<?xml version="1.0" encoding="utf-8"?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom"><channel><title>Andrew Aitken</title><link>http://www.andrewaitken.com/</link><description>Blog</description><atom:link href="http://www.andrewaitken.com/feeds/all.rss.xml" rel="self"></atom:link><lastBuildDate>Wed, 17 Jul 2013 13:53:32 +0100</lastBuildDate><item><title>Creating a Custom Section in Umbraco 6 - Part 2: The Tree</title><link>http://www.andrewaitken.com/2013/07/creating-a-custom-section-in-umbraco-6-part-2-the-tree/</link><description>&lt;p&gt;The tree needs a little bit more work to implement than the application.&lt;/p&gt;
&lt;p&gt;Here is the initial class declaration.&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="k"&gt;[Tree(&amp;quot;appAlias&amp;quot;, &amp;quot;treeAlias&amp;quot;, &amp;quot;Tree Title&amp;quot;)]&lt;/span&gt;
&lt;span class="err"&gt;public&lt;/span&gt; &lt;span class="err"&gt;class&lt;/span&gt; &lt;span class="err"&gt;MyApplicationTree&lt;/span&gt; &lt;span class="err"&gt;:&lt;/span&gt; &lt;span class="err"&gt;ITree&lt;/span&gt;
&lt;span class="err"&gt;{&lt;/span&gt;
&lt;span class="err"&gt;}&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;h3&gt;Tree Attribute&lt;/h3&gt;
&lt;p&gt;The Tree attribute takes similar parameters to the Application attribute.&lt;/p&gt;
&lt;dl&gt;
&lt;dt&gt;appAlias&lt;/dt&gt;
&lt;dd&gt;The alias of the application this tree belongs too.&lt;/dd&gt;
&lt;dt&gt;alias&lt;/dt&gt;
&lt;dd&gt;The alias for this tree.&lt;/dd&gt;
&lt;dt&gt;title&lt;/dt&gt;
&lt;dd&gt;The title of the tree, not entirely sure if this is used.&lt;/dd&gt;
&lt;/dl&gt;

&lt;h3&gt;ITree&lt;/h3&gt;
&lt;p&gt;This has a few properties and methods we need to implement.&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="n"&gt;public&lt;/span&gt; &lt;span class="n"&gt;interface&lt;/span&gt; &lt;span class="n"&gt;ITree&lt;/span&gt;
&lt;span class="p"&gt;{&lt;/span&gt;
    &lt;span class="n"&gt;string&lt;/span&gt; &lt;span class="n"&gt;app&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt; &lt;span class="n"&gt;set&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt; &lt;span class="p"&gt;}&lt;/span&gt;
    &lt;span class="kt"&gt;int&lt;/span&gt; &lt;span class="n"&gt;id&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt; &lt;span class="n"&gt;set&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt; &lt;span class="p"&gt;}&lt;/span&gt;
    &lt;span class="kt"&gt;void&lt;/span&gt; &lt;span class="n"&gt;Render&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;ref&lt;/span&gt; &lt;span class="n"&gt;XmlDocument&lt;/span&gt; &lt;span class="n"&gt;Tree&lt;/span&gt;&lt;span class="p"&gt;);&lt;/span&gt;
    &lt;span class="kt"&gt;void&lt;/span&gt; &lt;span class="nf"&gt;RenderJS&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;ref&lt;/span&gt; &lt;span class="n"&gt;StringBuilder&lt;/span&gt; &lt;span class="n"&gt;Javascript&lt;/span&gt;&lt;span class="p"&gt;);&lt;/span&gt;
&lt;span class="p"&gt;}&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;The first two are easily implemented with an automatic properties.&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="n"&gt;public&lt;/span&gt; &lt;span class="n"&gt;string&lt;/span&gt; &lt;span class="n"&gt;app&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt; &lt;span class="n"&gt;get&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt; &lt;span class="n"&gt;set&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt; &lt;span class="p"&gt;}&lt;/span&gt;
&lt;span class="n"&gt;public&lt;/span&gt; &lt;span class="kt"&gt;int&lt;/span&gt; &lt;span class="n"&gt;id&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt; &lt;span class="n"&gt;get&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt; &lt;span class="n"&gt;set&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt; &lt;span class="p"&gt;}&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;We use the RenderJS method to add javascript to the backoffice that will allow us to change the content on the right hand side frame. We will call this when we click on a node in the tree.&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="n"&gt;public&lt;/span&gt; &lt;span class="kt"&gt;void&lt;/span&gt; &lt;span class="nf"&gt;RenderJS&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;ref&lt;/span&gt; &lt;span class="n"&gt;StringBuilder&lt;/span&gt; &lt;span class="n"&gt;javascript&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="p"&gt;{&lt;/span&gt;
    &lt;span class="n"&gt;javascript&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;Append&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s"&gt;@&amp;quot;function openLocation(url) { parent.right.document.location.href = url; }&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;);&lt;/span&gt;
&lt;span class="p"&gt;}&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;Lastly we need to build our actual tree in the Render method. We need to build it in an XmlDocument and it's fairly straightforward once you've done it a few times.&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="n"&gt;public&lt;/span&gt; &lt;span class="kt"&gt;void&lt;/span&gt; &lt;span class="nf"&gt;Render&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;ref&lt;/span&gt; &lt;span class="n"&gt;XmlDocument&lt;/span&gt; &lt;span class="n"&gt;tree&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="p"&gt;{&lt;/span&gt;
    &lt;span class="c1"&gt;// Add our base elements&lt;/span&gt;
    &lt;span class="n"&gt;XmlNode&lt;/span&gt; &lt;span class="n"&gt;root&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;tree&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;DocumentElement&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;

    &lt;span class="k"&gt;if&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;this&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;id&lt;/span&gt; &lt;span class="o"&gt;==&lt;/span&gt; &lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
    &lt;span class="p"&gt;{&lt;/span&gt;
        &lt;span class="c1"&gt;// Get data from somewhere or create a static tree root&lt;/span&gt;
        &lt;span class="c1"&gt;// Add 10 nodes for an example&lt;/span&gt;
        &lt;span class="k"&gt;for&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="kt"&gt;int&lt;/span&gt; &lt;span class="n"&gt;i&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt; &lt;span class="n"&gt;i&lt;/span&gt; &lt;span class="o"&gt;&amp;lt;=&lt;/span&gt; &lt;span class="mi"&gt;10&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt; &lt;span class="n"&gt;i&lt;/span&gt; &lt;span class="o"&gt;++&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
        &lt;span class="p"&gt;{&lt;/span&gt;
            &lt;span class="n"&gt;XmlElement&lt;/span&gt; &lt;span class="n"&gt;treeElement&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;tree&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;CreateElement&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;tree&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;);&lt;/span&gt;
            &lt;span class="n"&gt;treeElement&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;SetAttribute&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;menu&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;string&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;Empty&lt;/span&gt;&lt;span class="p"&gt;);&lt;/span&gt;
            &lt;span class="n"&gt;treeElement&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;SetAttribute&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;nodeID&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;i&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;ToString&lt;/span&gt;&lt;span class="p"&gt;());&lt;/span&gt;
            &lt;span class="n"&gt;treeElement&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;SetAttribute&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;text&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;i&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;ToString&lt;/span&gt;&lt;span class="p"&gt;());&lt;/span&gt;
            &lt;span class="n"&gt;treeElement&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;SetAttribute&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;action&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;string&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;Format&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;javascript:openLocation(&amp;#39;/Path/To/Document.aspx?id={0}&amp;#39;);&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;i&lt;/span&gt;&lt;span class="p"&gt;));&lt;/span&gt;
            &lt;span class="n"&gt;treeElement&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;SetAttribute&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;src&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;string&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;Empty&lt;/span&gt;&lt;span class="p"&gt;);&lt;/span&gt;
            &lt;span class="n"&gt;treeElement&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;SetAttribute&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;icon&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s"&gt;&amp;quot;myClosedIcon.png&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;);&lt;/span&gt; &lt;span class="c1"&gt;// Icons go in ~/Umbraco/Images/Umbraco/&lt;/span&gt;
            &lt;span class="n"&gt;treeElement&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;SetAttribute&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;openIcon&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s"&gt;&amp;quot;myOpenIcon.png&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;);&lt;/span&gt;
            &lt;span class="n"&gt;treeElement&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;SetAttribute&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;nodeType&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s"&gt;&amp;quot;tree&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;);&lt;/span&gt;

            &lt;span class="n"&gt;root&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;AppendChild&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;treeElement&lt;/span&gt;&lt;span class="p"&gt;);&lt;/span&gt;
        &lt;span class="p"&gt;}&lt;/span&gt;
    &lt;span class="p"&gt;}&lt;/span&gt;
    &lt;span class="k"&gt;else&lt;/span&gt;
    &lt;span class="p"&gt;{&lt;/span&gt;
        &lt;span class="c1"&gt;// We&amp;#39;ll come to this later.&lt;/span&gt;
    &lt;span class="p"&gt;}&lt;/span&gt;
&lt;span class="p"&gt;}&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;This should create 10 nodes in your tree, you will probably want to switch this to get data from a database or something similar. Or you may have a few static root nodes that then load data when expanded.
Child Nodes&lt;/p&gt;
&lt;p&gt;To load child nodes in a tree, you call the tree again with the id of the parent node. This is where that if (this.id == -1) comes in. You set the tree to call in the src attribute of the node.&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="n"&gt;treeElement&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;SetAttribute&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;src&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;this&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;GetServiceUrl&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;i&lt;/span&gt;&lt;span class="p"&gt;));&lt;/span&gt;

&lt;span class="c1"&gt;// ... snip ...&lt;/span&gt;

&lt;span class="n"&gt;private&lt;/span&gt; &lt;span class="n"&gt;string&lt;/span&gt; &lt;span class="nf"&gt;GetServiceUrl&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="kt"&gt;int&lt;/span&gt; &lt;span class="n"&gt;nodeId&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="p"&gt;{&lt;/span&gt;
    &lt;span class="n"&gt;TreeService&lt;/span&gt; &lt;span class="n"&gt;treeService&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;new&lt;/span&gt; &lt;span class="n"&gt;TreeService&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;nodeId&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s"&gt;&amp;quot;treeAlias&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="nb"&gt;false&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="nb"&gt;false&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;TreeDialogModes&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;fulllink&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;this&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;app&lt;/span&gt;&lt;span class="p"&gt;);&lt;/span&gt;
    &lt;span class="k"&gt;return&lt;/span&gt; &lt;span class="n"&gt;treeService&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;GetServiceUrl&lt;/span&gt;&lt;span class="p"&gt;();&lt;/span&gt;
&lt;span class="p"&gt;}&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;We then catch this like so:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="n"&gt;public&lt;/span&gt; &lt;span class="kt"&gt;void&lt;/span&gt; &lt;span class="nf"&gt;Render&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;ref&lt;/span&gt; &lt;span class="n"&gt;XmlDocument&lt;/span&gt; &lt;span class="n"&gt;tree&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="p"&gt;{&lt;/span&gt;
    &lt;span class="c1"&gt;// Add our base elements&lt;/span&gt;
    &lt;span class="n"&gt;XmlNode&lt;/span&gt; &lt;span class="n"&gt;root&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;tree&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;DocumentElement&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;

    &lt;span class="k"&gt;if&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;this&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;id&lt;/span&gt; &lt;span class="o"&gt;==&lt;/span&gt; &lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
    &lt;span class="p"&gt;{&lt;/span&gt;
        &lt;span class="c1"&gt;// Get data from somewhere or create a static tree root&lt;/span&gt;
        &lt;span class="c1"&gt;// Add 10 nodes for an example&lt;/span&gt;
        &lt;span class="k"&gt;for&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="kt"&gt;int&lt;/span&gt; &lt;span class="n"&gt;i&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt; &lt;span class="n"&gt;i&lt;/span&gt; &lt;span class="o"&gt;&amp;lt;=&lt;/span&gt; &lt;span class="mi"&gt;10&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt; &lt;span class="n"&gt;i&lt;/span&gt; &lt;span class="o"&gt;++&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
        &lt;span class="p"&gt;{&lt;/span&gt;
            &lt;span class="n"&gt;XmlElement&lt;/span&gt; &lt;span class="n"&gt;treeElement&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;tree&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;CreateElement&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;tree&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;);&lt;/span&gt;
            &lt;span class="n"&gt;treeElement&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;SetAttribute&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;menu&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;string&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;Empty&lt;/span&gt;&lt;span class="p"&gt;);&lt;/span&gt;
            &lt;span class="n"&gt;treeElement&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;SetAttribute&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;nodeID&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;i&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;ToString&lt;/span&gt;&lt;span class="p"&gt;());&lt;/span&gt;
            &lt;span class="n"&gt;treeElement&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;SetAttribute&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;text&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;i&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;ToString&lt;/span&gt;&lt;span class="p"&gt;());&lt;/span&gt;
            &lt;span class="n"&gt;treeElement&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;SetAttribute&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;action&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;string&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;Format&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;javascript:openLocation(&amp;#39;/Path/To/Document.aspx?id={0}&amp;#39;);&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;i&lt;/span&gt;&lt;span class="p"&gt;));&lt;/span&gt;
            &lt;span class="n"&gt;treeElement&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;SetAttribute&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;src&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;string&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;Empty&lt;/span&gt;&lt;span class="p"&gt;);&lt;/span&gt;
            &lt;span class="n"&gt;treeElement&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;SetAttribute&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;icon&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s"&gt;&amp;quot;myClosedIcon.png&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;);&lt;/span&gt; &lt;span class="c1"&gt;// Icons go in ~/Umbraco/Images/Umbraco/&lt;/span&gt;
            &lt;span class="n"&gt;treeElement&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;SetAttribute&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;openIcon&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s"&gt;&amp;quot;myOpenIcon.png&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;);&lt;/span&gt;
            &lt;span class="n"&gt;treeElement&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;SetAttribute&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;nodeType&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s"&gt;&amp;quot;tree&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;);&lt;/span&gt;

            &lt;span class="n"&gt;root&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;AppendChild&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;treeElement&lt;/span&gt;&lt;span class="p"&gt;);&lt;/span&gt;
        &lt;span class="p"&gt;}&lt;/span&gt;
    &lt;span class="p"&gt;}&lt;/span&gt;
    &lt;span class="k"&gt;else&lt;/span&gt;
    &lt;span class="p"&gt;{&lt;/span&gt;
        &lt;span class="c1"&gt;// Get items that have a parent node of this.id&lt;/span&gt;
        &lt;span class="c1"&gt;// Just as an example&lt;/span&gt;
        &lt;span class="n"&gt;XmlElement&lt;/span&gt; &lt;span class="n"&gt;childElement&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;tree&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;CreateElement&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;tree&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;);&lt;/span&gt;
        &lt;span class="n"&gt;childElement&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;SetAttribute&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;menu&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;string&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;Empty&lt;/span&gt;&lt;span class="p"&gt;);&lt;/span&gt;
        &lt;span class="n"&gt;childElement&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;SetAttribute&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;nodeID&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;99&lt;/span&gt;&lt;span class="p"&gt;);&lt;/span&gt;
        &lt;span class="n"&gt;childElement&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;SetAttribute&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;text&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s"&gt;&amp;quot;Child of &amp;quot;&lt;/span&gt; &lt;span class="o"&gt;+&lt;/span&gt; &lt;span class="n"&gt;this&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;id&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;ToString&lt;/span&gt;&lt;span class="p"&gt;());&lt;/span&gt;
        &lt;span class="n"&gt;childElement&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;SetAttribute&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;action&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;string&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;Format&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;javascript:openLocation(&amp;#39;/Path/To/AnotherDocument.aspx?id={0}&amp;#39;);&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;this&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;id&lt;/span&gt;&lt;span class="p"&gt;));&lt;/span&gt;
        &lt;span class="n"&gt;childElement&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;SetAttribute&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;src&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;string&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;Empty&lt;/span&gt;&lt;span class="p"&gt;);&lt;/span&gt;
        &lt;span class="n"&gt;childElement&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;SetAttribute&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;icon&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s"&gt;&amp;quot;icon.png&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;);&lt;/span&gt;
        &lt;span class="n"&gt;childElement&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;SetAttribute&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;openIcon&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s"&gt;&amp;quot;icon.png&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;);&lt;/span&gt;
        &lt;span class="n"&gt;childElement&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;SetAttribute&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;nodeType&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s"&gt;&amp;quot;tree&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;);&lt;/span&gt;

        &lt;span class="n"&gt;root&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;AppendChild&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;childElement&lt;/span&gt;&lt;span class="p"&gt;);&lt;/span&gt;
    &lt;span class="p"&gt;}&lt;/span&gt;
&lt;span class="p"&gt;}&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;h3&gt;Need More Node Ids?&lt;/h3&gt;
&lt;p&gt;The basic tree works really well if you have a unique Id for every item and hierarchy is defined within that by parent Ids, like the content in Umbraco content. But if you need multiple roots nodes, each showing items that may have conflicting Ids, then you can add another tree.&lt;/p&gt;
&lt;p&gt;By default all trees for an application will be added to the root, this might be what you want, but if it's not, there is an overload for the Tree attribute to stop it being loaded.&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="n"&gt;Tree&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;appAlias&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s"&gt;&amp;quot;treeAlias&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s"&gt;&amp;quot;My Child Tree&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s"&gt;&amp;quot;.sprTreeFolder&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s"&gt;&amp;quot;.sprTreeFolder_o&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s"&gt;&amp;quot;&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="nb"&gt;false&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="nb"&gt;false&lt;/span&gt;&lt;span class="p"&gt;)]&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;It's the last boolean parameter which tells Umbraco not to initialize the tree, so it won't be added to the root. You can then change your src attributes on your nodes to point to the new tree.&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="n"&gt;private&lt;/span&gt; &lt;span class="n"&gt;string&lt;/span&gt; &lt;span class="nf"&gt;GetTreeServiceUrl&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;string&lt;/span&gt; &lt;span class="n"&gt;treeAlias&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="kt"&gt;int&lt;/span&gt; &lt;span class="n"&gt;nodeId&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="p"&gt;{&lt;/span&gt;
    &lt;span class="n"&gt;TreeService&lt;/span&gt; &lt;span class="n"&gt;treeService&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;new&lt;/span&gt; &lt;span class="n"&gt;TreeService&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;nodeId&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;treeAlias&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="nb"&gt;false&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="nb"&gt;false&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;TreeDialogModes&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;fulllink&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;this&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;app&lt;/span&gt;&lt;span class="p"&gt;);&lt;/span&gt;
    &lt;span class="k"&gt;return&lt;/span&gt; &lt;span class="n"&gt;treeService&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;GetServiceUrl&lt;/span&gt;&lt;span class="p"&gt;();&lt;/span&gt;
&lt;span class="p"&gt;}&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;h3&gt;Context Menus&lt;/h3&gt;
&lt;p&gt;You can control the context menu available on a node by setting the menu attribute on the node. This isn't something I have implemented yet, there is more information for this available here.&lt;/p&gt;</description><dc:creator xmlns:dc="http://purl.org/dc/elements/1.1/">Andrew Aitken</dc:creator><pubDate>Wed, 17 Jul 2013 13:53:32 +0100</pubDate><guid>tag:www.andrewaitken.com,2013-07-17:2013/07/creating-a-custom-section-in-umbraco-6-part-2-the-tree/</guid><category>umbraco</category></item><item><title>Creating a Custom Section in Umbraco 6 - Part 1: The Application</title><link>http://www.andrewaitken.com/2013/07/creating-a-custom-section-in-umbraco-6-part-1-the-application/</link><description>&lt;p&gt;I’ve been doing a bit of work lately creating a custom section in an Umbraco v6.1 install. I needed a nice tree for my custom section, so after a lot of googling and digging through the Umbraco source, I managed to get it all working nicely.  I’ve put this guide together to hopefully make the process a little easier for myself and any other weary internet travellers who happen to stumble upon it.&lt;/p&gt;
&lt;h3&gt;The Application&lt;/h3&gt;
&lt;p&gt;This is much easier now in version 6, to add a new application you just new to create a class that implements umbraco.interfaces.IApplication and has the Application attribute.&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="k"&gt;[Application(&amp;quot;alias&amp;quot;, &amp;quot;Real Name&amp;quot;, &amp;quot;images/nada.gif&amp;quot;, 10)]&lt;/span&gt;
&lt;span class="err"&gt;public&lt;/span&gt; &lt;span class="err"&gt;class&lt;/span&gt; &lt;span class="err"&gt;MyApplication&lt;/span&gt; &lt;span class="err"&gt;:&lt;/span&gt; &lt;span class="err"&gt;IApplication&lt;/span&gt;
&lt;span class="err"&gt;{&lt;/span&gt;
&lt;span class="err"&gt;}&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;h3&gt;IApplication&lt;/h3&gt;
&lt;p&gt;This interface actually has no definitions, so it’s a piece of cake to implement :)&lt;/p&gt;
&lt;h3&gt;Application Attribute&lt;/h3&gt;
&lt;p&gt;This takes a few parameters:&lt;/p&gt;
&lt;dl&gt;
&lt;dt&gt;alias&lt;/dt&gt;
&lt;dd&gt;Your application alias, usually starts lowercase eg “myApplication”&lt;/dd&gt;
&lt;dt&gt;name&lt;/dt&gt;
&lt;dd&gt;The nice name for your application, e.g. “My Application”&lt;/dd&gt;
&lt;dt&gt;icon&lt;/dt&gt;
&lt;dd&gt;The icon to be displayed in umbraco, you’ll need to do a bit of css jiggery pokery to get it right. I’ve used nada then added my icon to the existing tray sprite and added a css class to position it.&lt;/dd&gt;
&lt;dt&gt;sortOrder&lt;/dt&gt;
&lt;dd&gt;You can put it at the start or in between existing apps, I set mine to 10 to make sure it was at the end.&lt;/dd&gt;
&lt;/dl&gt;

&lt;h3&gt;applications.config&lt;/h3&gt;
&lt;p&gt;That should be your app set up, when you first run umbraco after creating that class, it should update the ~/config/applications.config automatically for you. I’ve found changing anything defined in the Application attribute after this point won’t be reflected in the applications.config, so if you need to make any changes, remember check that the applications.config reflects the new values.
Application Name&lt;/p&gt;
&lt;p&gt;At the top of the tree on your application page, you will see that it is showing your application alias instead of the name, to update this you need to add a key setting to ~/umbraco/Config/Lang/en.xml (swapping “en” for whatever language you are using).&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="nt"&gt;&amp;lt;area&lt;/span&gt; &lt;span class="na"&gt;alias=&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;sections&amp;quot;&lt;/span&gt;&lt;span class="nt"&gt;&amp;gt;&lt;/span&gt;
    ...
    &lt;span class="c"&gt;&amp;lt;!-- Add this line --&amp;gt;&lt;/span&gt;
    &lt;span class="nt"&gt;&amp;lt;key&lt;/span&gt; &lt;span class="na"&gt;alias=&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;myApplication&amp;quot;&lt;/span&gt;&lt;span class="nt"&gt;&amp;gt;&lt;/span&gt;My Application&lt;span class="nt"&gt;&amp;lt;/key&amp;gt;&lt;/span&gt;
&lt;span class="nt"&gt;&amp;lt;/area&amp;gt;&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;Your app should now have a nice name.&lt;/p&gt;
&lt;p&gt;I will post a guide to the trees later this week.&lt;/p&gt;</description><dc:creator xmlns:dc="http://purl.org/dc/elements/1.1/">Andrew Aitken</dc:creator><pubDate>Tue, 16 Jul 2013 13:28:42 +0100</pubDate><guid>tag:www.andrewaitken.com,2013-07-16:2013/07/creating-a-custom-section-in-umbraco-6-part-1-the-application/</guid><category>umbraco</category></item><item><title>Nearly there</title><link>http://www.andrewaitken.com/2013/07/nearly-there/</link><description>&lt;p&gt;Well, I've updated the site. Unfortunately all my posts are now marked as being created in the last few days. So that's on my "to fix" list.&lt;/p&gt;
&lt;p&gt;In the mean time though, you can now browse my site on a phone.&lt;/p&gt;</description><dc:creator xmlns:dc="http://purl.org/dc/elements/1.1/">Andrew Aitken</dc:creator><pubDate>Fri, 05 Jul 2013 14:23:49 +0100</pubDate><guid>tag:www.andrewaitken.com,2013-07-05:2013/07/nearly-there/</guid></item><item><title>Making things squishy</title><link>http://www.andrewaitken.com/2013/06/making-things-squishy/</link><description>&lt;p&gt;I've been playing about with &lt;a href="http://twitter.github.io/bootstrap/"&gt;Twitter's Bootstrap&lt;/a&gt; and decided to convert my blog over to use that.&lt;/p&gt;
&lt;p&gt;I've got an offline version complete and will be updating the site shortly, it will also be responsive and look lovely on mobile devices.&lt;/p&gt;</description><dc:creator xmlns:dc="http://purl.org/dc/elements/1.1/">Andrew Aitken</dc:creator><pubDate>Mon, 24 Jun 2013 13:45:49 +0100</pubDate><guid>tag:www.andrewaitken.com,2013-06-24:2013/06/making-things-squishy/</guid></item><item><title>It's in there somewhere</title><link>http://www.andrewaitken.com/2013/03/its-in-there-somewhere/</link><description>&lt;p&gt;&lt;img alt="It's in there somewhere" src="https://s3-eu-west-1.amazonaws.com/andrewaitken.com-media/lines2.png" /&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt; cracks knuckles &lt;/strong&gt;&lt;/p&gt;</description><dc:creator xmlns:dc="http://purl.org/dc/elements/1.1/">Andrew Aitken</dc:creator><pubDate>Thu, 14 Mar 2013 10:50:20 +0000</pubDate><guid>tag:www.andrewaitken.com,2013-03-14:2013/03/its-in-there-somewhere/</guid><category>.net</category></item><item><title>Instant insanity solver</title><link>http://www.andrewaitken.com/2013/01/instant-insanity-solver/</link><description>&lt;p&gt;I was visiting my sister for Christmas and they had a puzzle for us to play with. It's called the Instant Insanity puzzle, or at least it was a variation of it with old comic book covers instead of plain colours like the one on &lt;a href="http://en.wikipedia.org/wiki/Instant_Insanity"&gt;Wikipedia&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;Pretty much everyone had a shot but nobody could quite get all 4 cubes to have different sides. Like a true geek I decided to write some code to solve it for me.&lt;/p&gt;
&lt;p&gt;I put a little sticker with an arrow on each cube so I could identify them and what direction was "north". This allowed me to map the cubes in code and also reverse the map when the code found a solution.&lt;/p&gt;
&lt;p&gt;You can find the code here: &lt;a href="https://github.com/AndyA13/InstantInsanitySolver"&gt;GitHub&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;As it says in the Readme, it definitely needs refactored but it got the job done. It ran pretty much instantly and found 4 solutions (you can turn the stack 90 degrees and still have the same solution). It also finds 65,532 non solutions but I have to assume there are four of each one, making there 16,383 invalid solutions. A lot less than claimed on the box...&lt;/p&gt;</description><dc:creator xmlns:dc="http://purl.org/dc/elements/1.1/">Andrew Aitken</dc:creator><pubDate>Tue, 29 Jan 2013 21:12:05 +0000</pubDate><guid>tag:www.andrewaitken.com,2013-01-29:2013/01/instant-insanity-solver/</guid><category>c#</category><category>.net</category></item><item><title>Comma seperated lists</title><link>http://www.andrewaitken.com/2013/01/comma-seperated-lists/</link><description>&lt;p&gt;While working on a site recently I had to output the name property from a list of objects that had been selected by the user.&lt;/p&gt;
&lt;p&gt;I wrote a handy little method that let me pass in the objects and a Func to select the property to be used in the list.&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="k"&gt;private&lt;/span&gt; &lt;span class="nf"&gt;string&lt;/span&gt; &lt;span class="nx"&gt;ToCommaSeperatedString&lt;/span&gt;&lt;span class="o"&gt;&amp;lt;&lt;/span&gt;&lt;span class="nb"&gt;T&lt;/span&gt;&lt;span class="o"&gt;&amp;gt;&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nx"&gt;IEnumerable&lt;/span&gt;&lt;span class="o"&gt;&amp;lt;&lt;/span&gt;&lt;span class="nb"&gt;T&lt;/span&gt;&lt;span class="o"&gt;&amp;gt;&lt;/span&gt; &lt;span class="nx"&gt;items&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="nx"&gt;Func&lt;/span&gt;&lt;span class="o"&gt;&amp;lt;&lt;/span&gt;&lt;span class="nb"&gt;T&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="kt"&gt;string&lt;/span&gt;&lt;span class="o"&gt;&amp;gt;&lt;/span&gt; &lt;span class="nx"&gt;property&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="p"&gt;{&lt;/span&gt;
    &lt;span class="k"&gt;if&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nx"&gt;items&lt;/span&gt; &lt;span class="o"&gt;!=&lt;/span&gt; &lt;span class="kt"&gt;null&lt;/span&gt; &lt;span class="o"&gt;&amp;amp;&amp;amp;&lt;/span&gt; &lt;span class="nx"&gt;items.Count&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt; &lt;span class="o"&gt;&amp;gt;&lt;/span&gt; &lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
    &lt;span class="p"&gt;{&lt;/span&gt;
        &lt;span class="nb"&gt;List&lt;/span&gt;&lt;span class="o"&gt;&amp;lt;&lt;/span&gt;&lt;span class="kt"&gt;string&lt;/span&gt;&lt;span class="o"&gt;&amp;gt;&lt;/span&gt; &lt;span class="n"&gt;values&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="nb"&gt;new&lt;/span&gt; &lt;span class="nb"&gt;List&lt;/span&gt;&lt;span class="o"&gt;&amp;lt;&lt;/span&gt;&lt;span class="kt"&gt;string&lt;/span&gt;&lt;span class="o"&gt;&amp;gt;&lt;/span&gt;&lt;span class="p"&gt;();&lt;/span&gt;

        &lt;span class="nb"&gt;foreach&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nb"&gt;T&lt;/span&gt; &lt;span class="n"&gt;item&lt;/span&gt; &lt;span class="k"&gt;in&lt;/span&gt; &lt;span class="nx"&gt;items&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
        &lt;span class="p"&gt;{&lt;/span&gt;
            &lt;span class="nx"&gt;values.Add&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nx"&gt;property.Invoke&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nb"&gt;item&lt;/span&gt;&lt;span class="p"&gt;));&lt;/span&gt;
        &lt;span class="p"&gt;}&lt;/span&gt;

        &lt;span class="k"&gt;if&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nx"&gt;values.Count&lt;/span&gt; &lt;span class="o"&gt;&amp;gt;&lt;/span&gt; &lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
        &lt;span class="p"&gt;{&lt;/span&gt;
            &lt;span class="k"&gt;return&lt;/span&gt; &lt;span class="kt"&gt;String&lt;/span&gt;&lt;span class="bp"&gt;.&lt;/span&gt;&lt;span class="nb"&gt;Join&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;, &amp;quot;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="nb"&gt;values&lt;/span&gt;&lt;span class="p"&gt;);&lt;/span&gt;
        &lt;span class="p"&gt;}&lt;/span&gt;
    &lt;span class="p"&gt;}&lt;/span&gt;

    &lt;span class="k"&gt;return&lt;/span&gt; &lt;span class="kt"&gt;String&lt;/span&gt;&lt;span class="bp"&gt;.&lt;/span&gt;&lt;span class="nx"&gt;Empty&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
&lt;span class="p"&gt;}&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;Embedding code is still something of a work in progress. Just noticed it had deleted part of the method declaration.&lt;/p&gt;</description><dc:creator xmlns:dc="http://purl.org/dc/elements/1.1/">Andrew Aitken</dc:creator><pubDate>Fri, 18 Jan 2013 14:36:00 +0000</pubDate><guid>tag:www.andrewaitken.com,2013-01-18:2013/01/comma-seperated-lists/</guid><category>c#</category></item><item><title>Model.Parent == null</title><link>http://www.andrewaitken.com/2012/08/model.parent-null/</link><description>&lt;p&gt;Thought I would put up a quick post on an issue that I came across when converting my blog to Umbraco.&lt;/p&gt;
&lt;p&gt;I have a macro that lists posts, it will show the normal page as well as the filtered pages for categories and tags.  While trying to get my tag filter to work I hit a strange issue.&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="k"&gt;if&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;Model&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;Parent&lt;/span&gt; &lt;span class="o"&gt;!=&lt;/span&gt; &lt;span class="n"&gt;null&lt;/span&gt; &lt;span class="o"&gt;&amp;amp;&amp;amp;&lt;/span&gt; &lt;span class="n"&gt;Model&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;Parent&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;Id&lt;/span&gt; &lt;span class="o"&gt;==&lt;/span&gt; &lt;span class="mi"&gt;1234&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;In the above if statement, Model.Parent was always null.&lt;/p&gt;
&lt;p&gt;Parent should only be null if you are on the homepage, so I checked Model.Level and sure enough it was 1.&lt;/p&gt;
&lt;p&gt;It took a bit of head scratching and some fruitless googling before I realized it was because the node I was loading was called "Blog", as was the root element of my site. Doh!&lt;/p&gt;
&lt;p&gt;Quick rename of the tag (and the category as it would have suffered the same problem) and all was good in the world of Umbraco again.&lt;/p&gt;
&lt;p&gt;I'm still not 100% sure on the rules of nodes with the same name. They seem to be fine if they are not direct descendants of one another.&lt;/p&gt;</description><dc:creator xmlns:dc="http://purl.org/dc/elements/1.1/">Andrew Aitken</dc:creator><pubDate>Wed, 29 Aug 2012 21:52:48 +0100</pubDate><guid>tag:www.andrewaitken.com,2012-08-29:2012/08/model.parent-null/</guid><category>umbraco</category></item><item><title>Another small update</title><link>http://www.andrewaitken.com/2012/08/another-small-update/</link><description>&lt;p&gt;I think I've been to &lt;a href="http://www.badgerbadgerbadger.com/"&gt;BadgerBadgerBadger&lt;/a&gt; more times than I've written blog posts. I keep thinking something I've done would be interesting to blog about but when it comes down to it I can never think of what to write.&lt;/p&gt;
&lt;p&gt;For now though, I've just converted my blog over to Umbraco, only took me a couple of evenings. I'm hoping the nicer backend than my custom site with it's out the box asp.net styles will encourage me to write more.&lt;/p&gt;
&lt;p&gt;I will have a few things to blog about in the near future too. I am currently building a remote control rover robot based on a QWERK control board.  I've hit a bit of a snag trying to step down my 7.5v battery to 3v for the motors but hopefully I'll get that sussed out soon then I can crack on and focus on the wireless part of the project.&lt;/p&gt;</description><dc:creator xmlns:dc="http://purl.org/dc/elements/1.1/">Andrew Aitken</dc:creator><pubDate>Wed, 29 Aug 2012 21:12:53 +0100</pubDate><guid>tag:www.andrewaitken.com,2012-08-29:2012/08/another-small-update/</guid><category>blog</category></item><item><title>Small update</title><link>http://www.andrewaitken.com/2012/01/small-update/</link><description>&lt;p&gt;Finally got round to fixing an issue where a 404 was being recorded as error.  Should save some disk space :)  I've also added a new friend link for Greg and Jen who are off traveling round the world.&lt;/p&gt;
&lt;p&gt;Hopefully this will inspire me to get my ass in gear and do a bit more work on my blog and maybe even write some blog posts! One thing I really want to do is update the design and javascript so when I post code it fits on the page and is syntax highlighted automatically.&lt;/p&gt;</description><dc:creator xmlns:dc="http://purl.org/dc/elements/1.1/">Andrew Aitken</dc:creator><pubDate>Wed, 18 Jan 2012 21:38:39 +0000</pubDate><guid>tag:www.andrewaitken.com,2012-01-18:2012/01/small-update/</guid><category>blog</category></item><item><title>500 Recipes for chicken</title><link>http://www.andrewaitken.com/2011/07/500-recipes-for-chicken/</link><description>&lt;p&gt;It's been another week and I've passed the last two exams. 70-516, accessing data with .NET 4 and 70-519, desgining and developing web applications using .NET 4. So I'm an MCPD now. Yay!&lt;/p&gt;
&lt;p&gt;We've noticed it raining a bit more every day, but on Friday night it was non-stop downpour. It's Sunday now and the rain is just getting silly.&lt;/p&gt;
&lt;p&gt;&lt;img alt="Refreshments" src="https://lh3.googleusercontent.com/-Xg4wkHdb5zY/TiLCmMfUA2I/AAAAAAAAAZM/IK1whDDil2M/s400/IMGP0073.JPG" /&gt;&lt;/p&gt;
&lt;p&gt;After passing the last exam on Friday we decided to celebrate by heading north to Calangute where there are a lot more bars and clubs. Gareth, Marc and Sanjay came along for a few drinks. Thomas got a hookah with apple flavoured tobacco which was strange but nice at the same time. It was only Thomas and me who were up for staying out, so when the other guys got a taxi home, we headed across the road to a club called Tito's.&lt;/p&gt;
&lt;p&gt;It was 1500rs (£21) to get in, with free drinks all night, and they let us both in for the price of one. The inside of the club was actually quite small but pretty busy. As with every other bar we go to, the guys out number the girls about twenty to one. We stayed until about 3am then got a taxi back to the apartments.&lt;/p&gt;
&lt;p&gt;I really wanted to go see an elephant but after lunch on Saturday I had to stay within close proximity of the toilet for the rest of the day. :(&lt;/p&gt;
&lt;p&gt;My three weeks in Goa has been fun. Our apartment was clean and the food cooked for us has been excellent. With all the studying we didn't get time to do very much else, but what we have seen has been fun. I think if I was going to come back it would need to be in the dry season, although I don't think I could handle the temperatures they get over here.&lt;/p&gt;
&lt;p&gt;I am looking forward to going home though. I'd do anything for a bacon double cheese burger just now. The food options here are quite limited. I seen a book today that summed it up quite well, "500 recipes for chicken".&lt;/p&gt;</description><dc:creator xmlns:dc="http://purl.org/dc/elements/1.1/">Andrew Aitken</dc:creator><pubDate>Sun, 17 Jul 2011 12:12:35 +0100</pubDate><guid>tag:www.andrewaitken.com,2011-07-17:2011/07/500-recipes-for-chicken/</guid><category>goa</category><category>mcpd</category></item><item><title>One week to go</title><link>http://www.andrewaitken.com/2011/07/one-week-to-go/</link><description>&lt;p&gt;Last week went well. We went over the Windows Communication Foundation (WCF) books and passed the 70-513 exam with 950/1000. To be honest the course was too fast and I think I'll be keeping the books for future reference. WCF is vast. There is so much in there and to cover it all in three days was just not enough to really get to grips with it.&lt;/p&gt;
&lt;p&gt;I can't beleive it's been two weeks already. The time has really flown past. So far we have completed eight books, two exams and we are halfway through the two data access in .Net 4 books. Once we finish that we will have another exam, then we will sit the MCPD exam. I'm not sure if we get any books for the last one, as it is more of a summary of all the other modules we have studied so far.&lt;/p&gt;
&lt;p&gt;So far the data modules have been quite straight forward and tomorrow we start a module about using entity framework in an n-tier environment which I'm quite interested in.&lt;/p&gt;
&lt;p&gt;Not a lot else has been happening. We went out for a drink on Friday after passing the WCF exam. We studied a lot this week and haven't gotten out much so not a lot to report.&lt;/p&gt;</description><dc:creator xmlns:dc="http://purl.org/dc/elements/1.1/">Andrew Aitken</dc:creator><pubDate>Sun, 10 Jul 2011 17:26:59 +0100</pubDate><guid>tag:www.andrewaitken.com,2011-07-10:2011/07/one-week-to-go/</guid><category>goa</category><category>mcpd</category></item><item><title>Down the road</title><link>http://www.andrewaitken.com/2011/07/down-the-road/</link><description>&lt;p&gt;Well today went as well as could be expected. Gareth and I felt we were as prepared as we would ever be to take the exam (70-515) and decided to take it in the afternoon. We are a day ahead on the course and ideally would have sat the exam on Tuesday, but for some reason the test centre was closed on Tuesday so we decided to bite the bullet and go for it today.&lt;/p&gt;
&lt;p&gt;What a relief. The exam questions came thick and fast but I felt very much on top of it. In fact, when I found out I had gotten 880 out of 1000 I was slightly disappointed. I honestly don't know what questions I got wrong. Never the less, 880 is a pass and that's all that really matters.&lt;/p&gt;
&lt;p&gt;&lt;img alt="Church in Goa" src="https://lh4.googleusercontent.com/-UhT08pZmGSM/ThINyCJhr8I/AAAAAAAAAVI/mC4Ebfk73oU/s400/IMGP0045.JPG" /&gt;&lt;/p&gt;
&lt;p&gt;We headed back to the apartments early as we can start WCF tomorrow and we are still one day ahead of schedule. We picked up Marc and Ramu from the other apartments and headed out for the afternoon. We had a few (understatement) drinks in Hotel Fidalgo (I'm sure its Fandango) then headed back for dinner.&lt;/p&gt;
&lt;p&gt;We picked up the almost everyone else after dinner and headed to the local hotel Vivanta for a drink. It was very fancy and very quiet but twice the price of hotel Fandango, still less than £2 for a beer though. After that we headed to the Marriott. It was a bit of a trek but we made it, hot and thirsty. The Marriott is a five star hotel and prices for beer are about the same as the UK, but again it was very quiet.&lt;/p&gt;
&lt;p&gt;At this point a Gareth and Thomas threw in the towel and headed back to the apartments, but the rest of us soldiered on and headed to a bar we had heard of called Down the Road.&lt;/p&gt;
&lt;p&gt;For some reason they don't have regular music here, instead they have people singing popular songs. In Down the Road it was a man and his wife taking turns. They were very good and had some songs by the Killers and Jason Mraz to name a few. This place was much better. For a Monday night it was pretty busy and we agreed that it is where we should go on Saturday night.&lt;/p&gt;
&lt;p&gt;Tomorrow we try to tame the WCF beast. I'm sure I will come out of this one with a few scars but passing this first exam has helped a lot and we are going to give it all we've got.&lt;/p&gt;
&lt;p&gt;I'm a bit tipsy, gonna sleep now.&lt;/p&gt;</description><dc:creator xmlns:dc="http://purl.org/dc/elements/1.1/">Andrew Aitken</dc:creator><pubDate>Mon, 04 Jul 2011 20:05:16 +0100</pubDate><guid>tag:www.andrewaitken.com,2011-07-04:2011/07/down-the-road/</guid><category>goa</category><category>mcpd</category></item><item><title>Hello bedsheets</title><link>http://www.andrewaitken.com/2011/07/hello-bedsheets/</link><description>&lt;p&gt;Well we've kicked it into high gear now. We are in class from 9-5, study at the apartment until 7:30, go for dinner, then go back and study until about 9 or 10. I keep getting really tired in class which is annoying because I'm sure I'm getting enough sleep. Divakar had coffee today and it smelled so good, I'm not sure if I trust the coffee machine though.&lt;/p&gt;
&lt;p&gt;Tonight I went through 95 test questions for the 70-515 exam. Took around 3 hours in total and I've got a list of stuff I want to look into before the exam. Good news is I got enough right that it would have been a pass (821/1000). That's a bit of a confidence booster because we have both felt totally overwhelmed the last few days.&lt;/p&gt;
&lt;p&gt;I'm still a little worried about only having 2 days to study for the WCF exam. But we are hoping the WCF exam will be a lot more focused and easier to study for than the web development exam which covers such a vast amount.&lt;/p&gt;
&lt;h3&gt;Other Happenings&lt;/h3&gt;
&lt;p&gt;We took a walk down 18th June Street the other day. There are lots of shops selling car batteries. We found the Bombay bazaar which seems to sell some nice things but the staff are constantly trying to show you things. Outside isn't much better, I got followed down the street by a woman trying to sell me cashmere pashminas. I must have told her "no" about ten times. They are pretty cheap but I don't know anyone who would want one. We got caught in the rain on the way back, it started off light but in about 5 minutes it was a torrential downpour. I did manage to run from Koenig back to the apartment without any anterior tibialis issues. It's been a while since I've been able to run that far.&lt;/p&gt;
&lt;p&gt;Today on the way back to apartment there were two guys selling bed sheets on the street. As we passed he just looked at Gareth and said, "hello bedsheets," in a husky voice. We didn't know what to say to that.&lt;/p&gt;
&lt;p&gt;I updated my photos on &lt;a href="https://picasaweb.google.com/103470855459885510201/201106Goa?authuser=0&amp;amp;feat=directlink"&gt;Picasa&lt;/a&gt; yesterday, I don't expect there will be much more for me to post over the next two weeks.&lt;/p&gt;
&lt;p&gt;Sorry if this post seems a bit broken, I think my brain has already gone to bed.&lt;/p&gt;</description><dc:creator xmlns:dc="http://purl.org/dc/elements/1.1/">Andrew Aitken</dc:creator><pubDate>Fri, 01 Jul 2011 17:36:32 +0100</pubDate><guid>tag:www.andrewaitken.com,2011-07-01:2011/07/hello-bedsheets/</guid><category>goa</category><category>mcpd</category></item><item><title>Non stop tooting</title><link>http://www.andrewaitken.com/2011/06/non-stop-tooting/</link><description>&lt;p&gt;My stomach is fine, thank you.  Gareth and I went for a walk to find the supermarket after class. It's up to about 85% humidity today, according to MSN weather it's 30 degrees but feels like 39!&lt;/p&gt;
&lt;p&gt;While trying to cross the main road a bus stopped to pick us up, so we sheepishly walked away. After about five minutes a gap opened up and we managed to sprint across the road with only a few mopeds having to toot and swerve. The locals look at us very strangely. I thought they would be used to seeing tourists around here but apparently not.  A lot of them just stare at Gareth, which is a bit rude.&lt;/p&gt;
&lt;p&gt;The traffic here is insane. There's no other way to describe it. Walking to the mall the sound of horns is pretty much non stop, they peep when they over take, when they approach pedestrians, when they pull out and pretty much whenever they feel like it. At least they drive on the left. Most of the time.&lt;/p&gt;
&lt;p&gt;We found the shopping mall and a KFC. It's quite a walk, about as far as I was willing to go in this heat and humidity. I've noticed there are a lot of security guards around some buildings, our apartment has one at the gate and there is one in the reception area at Koenig. The mall was a different world, it had 3 or 4 security guards at the main entrance. To get inside we had to go through a metal detector and get scanned by a guard. There were several security guards inside and a man was standing at the top of every escalator. The shops were all very trendy looking and were priced to match.  I bought some BBQ Pringles and a bunch of mini bananas.&lt;/p&gt;
&lt;p&gt;&lt;img alt="The alleged korma" src="https://lh6.googleusercontent.com/-IjiTpIkoBMM/TgnGbR2rQLI/AAAAAAAAANY/ebCF4h27uJ0/s400/IMAG0091.jpg" /&gt;&lt;/p&gt;
&lt;p&gt;For lunch today I ordered chicken korma. I thought this would be a safer choice after the bag of grey slime I got yesterday. I have no idea how they do it but the chicken korma was even more grey than the chow mein and looked more like a tub of gruel. Fortunately it only tasted half as bad as it looked.&lt;/p&gt;</description><dc:creator xmlns:dc="http://purl.org/dc/elements/1.1/">Andrew Aitken</dc:creator><pubDate>Tue, 28 Jun 2011 14:15:46 +0100</pubDate><guid>tag:www.andrewaitken.com,2011-06-28:2011/06/non-stop-tooting/</guid><category>goa</category><category>mcpd</category></item><item><title>Goa Baby</title><link>http://www.andrewaitken.com/2011/06/goa-baby/</link><description>&lt;p&gt;Getting here was fairly uneventful. The wait in Heathrow was made easier by a long lunch and couple of pints of Staropramen. The plane to was a 747 and for some reason was about 28 degrees inside. Thankfully the aircon kicked in once we were in the air and it cooled down to a more manageable heat. We had two seats at the very back of the plane so we didn't have to sit next to anyone else. In the nine hour flight I think I managed two, maybe two and a half hours sleep. Leaving the plane at Mumbai I thought I had walked through some sort of exhaust vent for the plane. I soon realised it was just the air. The temperature is around 30 degrees and humidity is a sticky 75%. When we got on the Goa flight, there was vapour pouring out from around the overhead luggage racks. I guess it was the dry air coming out of the air conditioning reacting with the humid air coming in through the door.&lt;/p&gt;
&lt;p&gt;&lt;img alt="It's a bad sign" src="https://lh3.googleusercontent.com/-k8gsu3MrjmI/Tgh1SWRF1-I/AAAAAAAAAJw/OOCnls_f7u4/s400/IMGP0009.JPG" /&gt;&lt;/p&gt;
&lt;p&gt;There was also a "Refusal Room" in Goa airport. See my other photos here &lt;a href="https://picasaweb.google.com/103470855459885510201/201106Goa?feat=directlink"&gt;2011-06 Goa&lt;/a&gt;.&lt;/p&gt;
&lt;h3&gt;The Apartment&lt;/h3&gt;
&lt;p&gt;The apartment is pretty much what I expected. We have a room each and Gareth's room has an en-suite, so we have a bathroom each. The bedrooms have air conditioning which is pretty much essential for me as the heat doesn't go anywhere at night. We get our breakfast and dinner served in another apartment. It's in the same building but on a different block so we need to go down to the garage and back up a different elevator. The elevators have a sliding metal grate and can't work when it's opened, so they play a doorbell type of music to remind you to close it. Ours play "Home, sweet home" and one of the others plays "My heart will go on".&lt;/p&gt;
&lt;h3&gt;Day 1 of the course&lt;/h3&gt;
&lt;p&gt;We went for breakfast in the other apartment. Fried egg, hash brown and toast. It was quite good and a pretty normal thing to have for breakfast after yesterdays chicken fajita. When we got to the classroom we got started fairly quickly. It's only Gareth and me in the class. Our teacher had planned to do 8 modules today but as we are starting with quite basic stuff we got through them really quickly and managed to get 10 finished. Hopefully getting the extra work done today will mean we can have a bit more time on anything we struggle with later.&lt;/p&gt;
&lt;h3&gt;Lunch&lt;/h3&gt;
&lt;p&gt;I ordered chow mein for lunch today because it was the only thing on the menu that looked remotely recognisable. It came in a foil wrapped bag which took 10 minutes to open, only to be greeted by a really slimey, grey, onion filled sauce (I'm not a big fan of onions). I tipped it onto the plate and found a massive pile of noodles at the bottom of the bag. The noodles were good.&lt;/p&gt;
&lt;p&gt;It's still 30 degrees and it's still incredibly humid.&lt;/p&gt;</description><dc:creator xmlns:dc="http://purl.org/dc/elements/1.1/">Andrew Aitken</dc:creator><pubDate>Mon, 27 Jun 2011 13:29:03 +0100</pubDate><guid>tag:www.andrewaitken.com,2011-06-27:2011/06/goa-baby/</guid><category>goa</category><category>mcpd</category></item><item><title>Caching file contents with CacheDependency</title><link>http://www.andrewaitken.com/2011/04/caching-file-contents-with-cachedependency/</link><description>&lt;p&gt;The CacheDependency will monitor a file or folder for changes. When it detects a change it will remove the associated key from the cache.&lt;/p&gt;
&lt;p&gt;This comes in quite handy for my hangman game which stores the film titles in an xml file.&lt;/p&gt;
&lt;p&gt;Below is how I cache the data and setup the CacheDependency. Some validation has been removed to keep it clear.&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="n"&gt;private&lt;/span&gt; &lt;span class="n"&gt;HangmanGameCollection&lt;/span&gt; &lt;span class="nf"&gt;ReadGameFile&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;
&lt;span class="p"&gt;{&lt;/span&gt;
    &lt;span class="k"&gt;if&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;HttpRuntime&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;Cache&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;HangmanGame&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt; &lt;span class="o"&gt;!=&lt;/span&gt; &lt;span class="n"&gt;null&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
    &lt;span class="p"&gt;{&lt;/span&gt;
        &lt;span class="k"&gt;return&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;HangmanGameCollection&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;&lt;span class="n"&gt;HttpRuntime&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;Cache&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;HangmanGame&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;];&lt;/span&gt;
    &lt;span class="p"&gt;}&lt;/span&gt;

    &lt;span class="n"&gt;HangmanGameCollection&lt;/span&gt; &lt;span class="n"&gt;hangmanGames&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;

    &lt;span class="n"&gt;FileInfo&lt;/span&gt; &lt;span class="n"&gt;xmlFile&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;new&lt;/span&gt; &lt;span class="n"&gt;FileInfo&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;Server&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;MapPath&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;~/TopSecret.xml&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;));&lt;/span&gt;

    &lt;span class="n"&gt;XmlSerializer&lt;/span&gt; &lt;span class="n"&gt;xmlSerializer&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;new&lt;/span&gt; &lt;span class="n"&gt;XmlSerializer&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;typeof&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;HangmanGameCollection&lt;/span&gt;&lt;span class="p"&gt;));&lt;/span&gt;

    &lt;span class="n"&gt;using&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;FileStream&lt;/span&gt; &lt;span class="n"&gt;fileStream&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;xmlFile&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;OpenRead&lt;/span&gt;&lt;span class="p"&gt;())&lt;/span&gt;
    &lt;span class="p"&gt;{&lt;/span&gt;
        &lt;span class="n"&gt;hangmanGames&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;HangmanGameCollection&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;&lt;span class="n"&gt;xmlSerializer&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;Deserialize&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;fileStream&lt;/span&gt;&lt;span class="p"&gt;);&lt;/span&gt;

        &lt;span class="c1"&gt;// Put it in cache with a dependency on the xml file&lt;/span&gt;
        &lt;span class="n"&gt;HttpRuntime&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;Cache&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;Insert&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;HangmanGame&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;hangmanGames&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;new&lt;/span&gt; &lt;span class="n"&gt;CacheDependency&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;xmlFile&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;FullName&lt;/span&gt;&lt;span class="p"&gt;));&lt;/span&gt;
    &lt;span class="p"&gt;}&lt;/span&gt;

    &lt;span class="k"&gt;return&lt;/span&gt; &lt;span class="n"&gt;hangmanGames&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
&lt;span class="p"&gt;}&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;Should maybe do something about fitting in long lines of code :\&lt;/p&gt;</description><dc:creator xmlns:dc="http://purl.org/dc/elements/1.1/">Andrew Aitken</dc:creator><pubDate>Mon, 18 Apr 2011 21:02:20 +0100</pubDate><guid>tag:www.andrewaitken.com,2011-04-18:2011/04/caching-file-contents-with-cachedependency/</guid><category>caching</category><category>.net</category></item><item><title>First post</title><link>http://www.andrewaitken.com/2011/03/first-post/</link><description>&lt;p&gt;There is still a lot to do but I have finally gotten a working version of my blog online. I chose to write my own blog for a chance to play with asp.net MVC 3 and the Razor view engine. So far I really like the Razor view engine and think my HTML looks much cleaner when working with it.  Here is a list of what I hope to update over time:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Add a search feature&lt;/li&gt;
&lt;li&gt;Have a correctly formatted date when viewing old posts&lt;/li&gt;
&lt;li&gt;Implement MetaWeblog API&lt;/li&gt;
&lt;li&gt;Comments support&lt;/li&gt;
&lt;li&gt;Contact page&lt;/li&gt;
&lt;li&gt;Detect tweets not loading and add redundency&lt;/li&gt;
&lt;li&gt;Add a custom error page&lt;/li&gt;
&lt;li&gt;Make sure all the HTML and CSS is valid&lt;/li&gt;
&lt;li&gt;Minify and combine the js files&lt;/li&gt;
&lt;li&gt;A few styling tweaks&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Maybe add a style for lists too.&lt;/p&gt;
&lt;p&gt;I did manage to implement an RSS feed and tags which I had missed or not wanted in my original specification.&lt;/p&gt;
&lt;p&gt;I would like to thank &lt;a href="http://glasgowtozocalo.blogspot.com/"&gt;Steven Gibson&lt;/a&gt; (&lt;a href="https://twitter.com/sgxbsxn"&gt;@glasgowtozocalo&lt;/a&gt;) for doing the design for me. It's got the clean, easy to read look I wanted and I'm really happy with it.&lt;/p&gt;</description><dc:creator xmlns:dc="http://purl.org/dc/elements/1.1/">Andrew Aitken</dc:creator><pubDate>Sun, 20 Mar 2011 21:32:03 +0000</pubDate><guid>tag:www.andrewaitken.com,2011-03-20:2011/03/first-post/</guid><category>blog</category></item></channel></rss>